Stampery = require './src/stampery.coffee'

# Sign up and get your user secret at https://api-dashboard.stampery.com
stampery = new Stampery 'b4022fdb-f790-42e7-a24f-f6c311d2dcfb', 'prod'
#stampery.host = 'http://localhost:4000'

#stampery.getById '585914ac9e7cba3b67aa0c03', (err, res) ->
#  console.error err
#  console.log JSON.stringify res
#  if res then console.log stampery.prove res.receipts

# stampery.getAll (err, res) ->
#   console.error err
#   console.log res

msg = new Buffer('hola caracola ' + Math.random())
console.log msg.toString()
h = stampery.hash msg
console.log h
console.log 'Stamping', h
stampery.stamp h, (err, stamp) ->
  if err then throw err
  console.log stamp

# targetHash = "bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2"
# merkleRoot = "51296468ea48ddbcc546abb85b935c73058fd8acdb0b953da6aa1ae966581a7a"
# proof = [
#    {
#      "left": "bdf8c9bdf076d6aff0292a1c9448691d2ae283f2ce41b045355e2c8cb8e85ef2"
#    },
#    {
#      "left": "cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf"
#    },
#    {
#      "right": "cb0dbbedb5ec5363e39be9fc43f56f321e1572cfcf304d26fc67cb6ea2e49faf"
#    }
#  ]

# targetHash = "d4735e3a265e16eee03f59718b9b5d03019c07d8b6c51f90da3a666eec13ab35"
# merkleRoot = "CE9B3F9453FCDC46B7DCC47220BEEC859CDA4977D0B2F17AF4A1622306DF82DB"
# proof = [
#   {"left":"6B86B273FF34FCE19D6B804EFF5A3F5747ADA4EAA22F1D49C01E52DDB7875B4B"},
#   {"right":"20AB747D45A77938A5B84C2944B8F5355C49F21DB0C549451C6281C91BA48D0D"},
#   {"right":"6D5B7BCB7561A627A7219FEA49973208D38A06150A529CA8DC9963580A7C3FC4"}
# ]

# console.log stampery._checkSiblings(targetHash, proof, merkleRoot)
